{"version":3,"file":"index-1ab85060.js","sources":["../../../network/src/auth/index.ts"],"sourcesContent":["import {\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  updateProfile,\n  signOut as firebaseSignOut,\n  sendPasswordResetEmail,\n  GoogleAuthProvider,\n  signInWithPopup,\n  UserCredential,\n} from 'firebase/auth'\nimport { auth } from '../config/firebase'\n\nexport type LoginInfo = {\n  email: string\n  password: string\n}\nexport type RegisterInfo = LoginInfo & {\n  displayName?: string\n  photoURL?: string\n}\nexport const login = ({ email, password }: LoginInfo) => {\n  return signInWithEmailAndPassword(auth, email, password)\n}\n\nexport const register = async ({\n  email,\n  password,\n  displayName,\n  photoURL,\n}: RegisterInfo): Promise<UserCredential> => {\n  const userCredential = await createUserWithEmailAndPassword(\n    auth,\n    email,\n    password,\n  )\n  const { user } = userCredential\n  console.log('displayName', displayName)\n  if (displayName && user) {\n    await updateProfile(user, { displayName, photoURL })\n    await user.reload() // Reload the user's information\n  }\n\n  return userCredential\n}\n\nexport const signOut = async () => {\n  await firebaseSignOut(auth)\n}\n\nexport const resetPassword = (email: string) => {\n  const redirectUrl =\n    process.env.NEXT_PUBLIC_RESET_PASSWORD_REDIRECT_URL ||\n    process.env.NEXT_PUBLIC_API_URL + '/login'\n  return sendPasswordResetEmail(auth, email, { url: redirectUrl })\n}\n\nexport const googleSignIn = async () =>\n  signInWithPopup(auth, new GoogleAuthProvider())\n"],"names":["login","email","password","signInWithEmailAndPassword","auth","register","displayName","photoURL","userCredential","createUserWithEmailAndPassword","user","updateProfile","signOut","firebaseSignOut","googleSignIn","signInWithPopup","GoogleAuthProvider"],"mappings":"qFAoBO,MAAMA,EAAQ,CAAC,CAAE,MAAAC,EAAO,SAAAC,KACtBC,EAA2BC,EAAMH,EAAOC,CAAQ,EAG5CG,EAAW,MAAO,CAC7B,MAAAJ,EACA,SAAAC,EACA,YAAAI,EACA,SAAAC,CACF,IAA6C,CAC3C,MAAMC,EAAiB,MAAMC,EAC3BL,EACAH,EACAC,CAAA,EAEI,CAAE,KAAAQ,CAAS,EAAAF,EACT,eAAA,IAAI,cAAeF,CAAW,EAClCA,GAAeI,IACjB,MAAMC,EAAcD,EAAM,CAAE,YAAAJ,EAAa,SAAAC,CAAU,CAAA,EACnD,MAAMG,EAAK,UAGNF,CACT,EAEaI,EAAU,SAAY,CACjC,MAAMC,EAAgBT,CAAI,CAC5B,EASaU,EAAe,SAC1BC,EAAgBX,EAAM,IAAIY,CAAoB"}